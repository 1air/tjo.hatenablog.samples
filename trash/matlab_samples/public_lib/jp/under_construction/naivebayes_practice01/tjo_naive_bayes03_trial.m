xvec=[0;0;1;1;1;1];

x_normal=[...
    [1;1;0;0;0;1] ...
    [1;1;0;1;1;0] ...
    [1;1;0;0;0;1] ...
    [1;0;1;0;1;1] ...
    [1;1;0;0;1;1] ...
    [1;1;0;0;0;1]...
    ];

x_spam=[...
    [0;0;1;1;1;0] ...
    [1;0;1;0;1;1] ...
    [0;0;1;1;1;0] ...
    [0;1;1;1;0;0] ...
    [0;0;0;1;0;0] ...
    [0;0;1;1;0;0]...
    ];

p_normal=size(x_normal,2)/(size(x_normal,2)+size(x_spam,2));
p_spam=1-p_normal;

p_n_serial=1;
p_s_serial=1;

for i=1:size(xvec,1)
    p_n_serial=p_n_serial*tjo_part_prob(xvec(i),x_normal(i,:));
end;

for i=1:size(xvec,1)
    p_s_serial=p_s_serial*tjo_part_prob(xvec(i),x_spam(i,:));
end;

% ここではスパムの可能性を判定する（p = 1ならスパム）

p_posterior_spam=(p_s_serial*p_spam+0.01)/((p_s_serial*p_spam)+0.01+(p_n_serial*p_normal)+0.01);

out = p_posterior_spam;
